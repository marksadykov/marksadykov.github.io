(this["webpackJsonpmoney-talk"]=this["webpackJsonpmoney-talk"]||[]).push([[0],{186:function(e,t,n){e.exports={svgicon:"Home_svgicon__1D-S7"}},190:function(e,t,n){e.exports={chartStyle:"Chart_chartStyle__1LxCx"}},282:function(e,t,n){},443:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n.n(c),i=n(52),s=n.n(i),u=(n(282),n(283),n(25)),o=n(7),l=n(186),h=n.n(l),j=n(206),d=n.p+"static/media/exchange.7b8ab5dc.svg",b=n(75),f=n(4),O=function(e,t){var n=e.toLowerCase();return t.filter((function(e){return e.name.toLowerCase().indexOf(n)>-1}))},x=function(e){var t=c.useState(""),n=Object(u.a)(t,2),r=n[0],a=n[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(o.j,{children:[Object(f.jsx)(o.v,{value:r,onChange:function(e){a(e.target.value)},after:null}),O(r,e.listCurrency).length>0&&O(r,e.listCurrency).map((function(t){return Object(f.jsx)(o.f,{onClick:function(){e.currentCountry({country:t.name,value:t.value}),e.setActiveModal({homeValue:null,currentValue:""})},children:t.name},t.id)})),0===O(r,e.listCurrency).length&&Object(f.jsx)(o.h,{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})})},m=function(e){var t=c.useState("search"),n=Object(u.a)(t,2),r=n[0],a=n[1],i=e.platform;return Object(f.jsx)(o.z,{activePanel:r,children:Object(f.jsx)(o.q,{id:"search",children:Object(f.jsx)(x,{currentCountry:e.currentCountry,setActiveModal:e.setActiveModal,sizeX:e.sizeX,goHeaderSearch:function(){return a("header-search")},listCurrency:e.listCurrency,platform:i})})})},v=n(445),g=function(e,t,n){var r=e*(t.value/n.value);return isNaN(r)||!isFinite(r)?" ":String(r)},p=n(32),y=n.n(p),w=n(39),k=n(66),C=n(67),_=n(15);!function(e){e.initial="initial",e.loading="loading",e.error="error",e.success="success"}(r||(r={}));var S=n(68),V=n.n(S),E="demo-6410726746980cead2a17c9db9ef29af",z="https://api.nomics.com/v1/",T="".concat(z,"/exchange-rates?")+"key=".concat(E),A=function(e){return function(e){return"".concat(z,"currencies/ticker?")+"key=".concat(E,"&")+"ids=".concat(e.join(),"&")+"interval=1h&convert=USD"}(e)},R=function(){return T},M=function(e,t){return function(e,t){return"".concat(z,"volume/history")+"?key=".concat(E,"&")+"start=".concat(e)+"&end=".concat(t)}(e,t)},D=function(){var e=Object(w.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V()(R());case 3:return t=e.sent,e.abrupt("return",{isError:!1,data:(n=t.data,n.map((function(e,t){return{id:t,name:e.currency,value:+e.rate}})))});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{isError:!0,data:[]});case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),L=function(){function e(){var t=this;Object(k.a)(this,e),this._exchange=[],this.meta=r.initial,this._metaChangedReaction=Object(_.h)((function(){return t.meta}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("Reaction",t)})),Object(_.f)(this,{fetch:_.b,_exchange:_.g,exchange:_.c})}return Object(C.a)(e,[{key:"fetch",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n,c,a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.meta!==r.loading&&this.meta!==r.success){e.next=2;break}return e.abrupt("return");case 2:return this.meta=r.loading,this._exchange=[],e.next=6,D();case 6:if(t=e.sent,n=t.isError,c=t.data,!n){e.next=12;break}return this.meta=r.error,e.abrupt("return");case 12:Object(_.i)((function(){a.meta=r.success,a._exchange=c.slice()}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"exchange",get:function(){return this._exchange}},{key:"destroy",value:function(){this._metaChangedReaction()}}]),e}(),F=function(e,t){c.useEffect((function(){e().catch(console.log)}),[t,e])},B=function(e){var t=function(e){var t=c.useRef(null);return null===t.current&&(t.current=e()),t.current}(e);return c.useEffect((function(){return function(){return t.destroy()}}),[t]),t},H=Object(b.a)((function(e){var t=B((function(){return new L}));F((function(){return t.fetch()}),[]);var n=c.useState({homeValue:null,currentValue:""}),r=Object(u.a)(n,2),a=r[0],i=r[1],s=c.useState({country:"",value:0}),l=Object(u.a)(s,2),h=l[0],j=l[1],d=c.useState({country:"",value:0}),b=Object(u.a)(d,2),O=b[0],x=b[1],p=c.useState(0),y=Object(u.a)(p,2),w=y[0],k=y[1],C=c.useState(""),_=Object(u.a)(C,2),S=_[0],V=_[1];c.useEffect((function(){V(String(g(w,h,O)))}),[w,h,O]);var E=Object(f.jsxs)(o.p,{activeModal:""===a.currentValue?a.homeValue:a.currentValue,children:[Object(f.jsx)(o.n,{id:"countries",onClose:function(){i({homeValue:null,currentValue:""})},header:Object(f.jsx)(o.o,{left:Object(f.jsx)(o.s,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){i({homeValue:null,currentValue:""})}}),right:o.l&&Object(f.jsx)(o.t,{onClick:function(){i({homeValue:null,currentValue:""})},children:Object(f.jsx)(v.a,{})}),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"}),settlingHeight:80,children:Object(f.jsx)(o.j,{children:Object(f.jsx)(m,{currentCountry:j,setActiveModal:i,listCurrency:t.exchange})})}),Object(f.jsx)(o.n,{id:"countries2",onClose:function(){i({homeValue:null,currentValue:""})},header:Object(f.jsx)(o.o,{left:Object(f.jsx)(o.s,{label:"\u041d\u0430\u0437\u0430\u0434",onClick:function(){i({homeValue:null,currentValue:""})}}),right:o.l&&Object(f.jsx)(o.t,{onClick:function(){i({homeValue:null,currentValue:""})},children:Object(f.jsx)(v.a,{})}),children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443"}),settlingHeight:80,children:Object(f.jsx)(o.j,{children:Object(f.jsx)(m,{currentCountry:x,setActiveModal:i,listCurrency:t.exchange})})})]});return Object(f.jsx)(o.z,{activePanel:"modals",modal:E,children:Object(f.jsx)(o.q,{id:"modals",children:Object(f.jsxs)(o.j,{header:Object(f.jsx)(o.k,{onClick:function(){return e.setActiveView("home")},mode:"secondary",children:"\u041d\u0430\u0437\u0430\u0434"}),children:[Object(f.jsx)(o.i,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443 1",children:Object(f.jsx)(o.w,{placeholder:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430",onClick:function(){return i({homeValue:null,currentValue:"countries"})},children:h.country})}),Object(f.jsx)(o.i,{top:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0430\u043b\u044e\u0442\u044b 1",children:Object(f.jsx)(o.m,{value:String(w),onChange:function(e){return k(Number(e.target.value))},type:"number"})}),Object(f.jsx)(o.i,{top:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443 2",children:Object(f.jsx)(o.w,{placeholder:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u0430",onClick:function(){return i({homeValue:null,currentValue:"countries2"})},children:O.country})}),Object(f.jsx)(o.i,{top:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0430\u043b\u044e\u0442\u044b 2",children:Object(f.jsx)(o.m,{value:S,type:"string",disabled:!0})})]})})})})),I=n(451),P=n(204),N=n(111),q=n(449),K=n(207),X=function(){var e=c.useState({width:0,height:0}),t=Object(u.a)(e,2),n=t[0],r=t[1];return c.useEffect((function(){var e=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n},J=n(190),U=n.n(J),W=function(){var e=new Date;return[function(e,t){var n=new Date(e.valueOf());return n.setDate(n.getDate()-t),n}(e,6).toISOString(),e.toISOString()]},Y=function(){var e=Object(w.a)(y.a.mark((function e(t,n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V()({url:M(t,n),headers:{"Access-Control-Allow-Origin":"*"}});case 3:return r=e.sent,e.abrupt("return",{isError:!1,data:(c=r.data,c.map((function(e){var t=new Date(e.timestamp),n={year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate()};return{date:"".concat(n.day,".")+"".concat(n.month,".")+"".concat(n.year),"\u0414\u043e\u043b\u043b\u0430\u0440\u044b":+e.volume}})))});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{isError:!0,data:[]});case 10:case"end":return e.stop()}var c}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){function e(t,n){var c=this;Object(k.a)(this,e),this._world=[],this.meta=r.initial,this._startTime="",this._endTime="",this._metaChangedReaction=Object(_.h)((function(){return c.meta}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("Reaction",t)})),Object(_.f)(this,{_world:_.g,_startTime:_.g,_endTime:_.g,fetch:_.b.bound,world:_.c}),this._startTime=t,this._endTime=n}return Object(C.a)(e,[{key:"fetch",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n,c,a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.meta!==r.loading&&this.meta!==r.success){e.next=2;break}return e.abrupt("return");case 2:return this.meta=r.loading,this._world=[],e.next=6,Y(this._startTime,this._endTime);case 6:if(t=e.sent,n=t.isError,c=t.data,!n){e.next=12;break}return this.meta=r.error,e.abrupt("return");case 12:Object(_.i)((function(){a.meta=r.success,a._world=c.slice()}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"world",get:function(){return this._world}},{key:"destroy",value:function(){this._metaChangedReaction()}}]),e}(),Q=Object(b.a)((function(){var e=X(),t=W(),n=Object(u.a)(t,2),r=n[0],c=n[1],a=B((function(){return new G(r,c)}));return F(a.fetch,[]),Object(f.jsxs)("div",{className:U.a.chartStyle,children:[Object(f.jsx)(o.y,{level:"3",weight:"bold",style:{marginBottom:8,marginTop:8,marginLeft:"5%",marginRight:"5%"},children:"\u041e\u0431\u0449\u0438\u0439 \u043e\u0431\u044a\u0435\u043c \u0432\u0441\u0435\u0445 \u043a\u0440\u0438\u043f\u0442\u043e\u0430\u043a\u0442\u0438\u0432\u043e\u0432"}),Object(f.jsxs)(I.a,{width:e.width-40,height:150,data:a.world,children:[Object(f.jsx)(P.a,{dataKey:"date",tick:{fill:"#818c99",fontSize:13}}),Object(f.jsx)(N.a,{wrapperStyle:{fontSize:13}}),Object(f.jsx)(q.a,{stroke:"#f5f5f5"}),Object(f.jsx)(K.a,{type:"monotone",dataKey:"\u0414\u043e\u043b\u043b\u0430\u0440\u044b",stroke:"#ff7300",yAxisId:0})]})]})})),Z=Object(b.a)((function(){return Object(f.jsx)(o.b,{style:{margin:0,padding:0},before:Object(f.jsx)(o.a,{size:70,mode:"image",src:"https://s3.us-east-2.amazonaws.com/nomics-api/static/images/currencies/btc.svg"}),header:"BTC",subheader:"Bitcoin"})})),$=function(){var e=Object(w.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V()(A(t));case 3:return n=e.sent,e.abrupt("return",{isError:!1,data:(r=n.data,r.map((function(e,t){return{symbol:e.symbol,name:e.name,logoUrl:e.logo_url,price:+e.price.slice(0,e.price.length-4)}})))});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{isError:!0,data:[]});case 10:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){function e(t){var n=this;Object(k.a)(this,e),this._currency=[],this._symbols=[],this.meta=r.initial,this._metaChangedReaction=Object(_.h)((function(){return n.meta}),(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];console.log("Reaction",t)})),Object(_.f)(this,{_currency:_.g,fetch:_.b.bound,currency:_.c}),this._symbols=t}return Object(C.a)(e,[{key:"fetch",value:function(){var e=Object(w.a)(y.a.mark((function e(){var t,n,c,a=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.meta!==r.loading&&this.meta!==r.success){e.next=2;break}return e.abrupt("return");case 2:return this.meta=r.loading,this._currency=[],e.next=6,$(this._symbols);case 6:if(t=e.sent,n=t.isError,c=t.data,!n){e.next=12;break}return this.meta=r.error,e.abrupt("return");case 12:Object(_.i)((function(){a.meta=r.success,a._currency=c.slice()}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"currency",get:function(){return this._currency}},{key:"destroy",value:function(){this._metaChangedReaction()}}]),e}(),te=function(){var e=c.useState("home"),t=Object(u.a)(e,2),n=t[0],r=t[1],a=B((function(){return new ee(["BTC","ETH","LTC","XMR"])}));return F(a.fetch,[]),Object(f.jsxs)(o.u,{activeView:n,children:[Object(f.jsx)(o.z,{activePanel:"card",id:"home",children:Object(f.jsxs)(o.q,{id:"card",children:[Object(f.jsx)(o.r,{children:"Money talk"}),Object(f.jsx)(o.j,{description:"\u041e\u043f\u0446\u0438\u0438",children:Object(f.jsxs)(o.e,{size:"s",children:[Object(f.jsx)(o.c,{children:Object(f.jsx)(o.g,{style:{height:150},onClick:function(){return r("change")},children:Object(f.jsx)(j.a,{src:d,className:h.a.svgicon})})}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{})]})}),Object(f.jsxs)(o.e,{size:"s",children:[Object(f.jsx)(o.c,{children:Object(f.jsx)(Z,{})}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{})]}),Object(f.jsxs)(o.e,{size:"l",children:[Object(f.jsx)(o.c,{children:Object(f.jsx)("div",{children:"l"})}),Object(f.jsx)(o.c,{}),Object(f.jsx)(o.c,{})]}),Object(f.jsx)(o.j,{description:"\u0432 \u0414\u043e\u043b\u043b\u0430\u0440\u0430\u0445",children:Object(f.jsx)(o.d,{size:"l",children:Object(f.jsx)(o.c,{mode:"shadow",children:Object(f.jsx)(Q,{})})})})]})}),Object(f.jsx)(o.z,{activePanel:"card",id:"change",children:Object(f.jsxs)(o.q,{id:"card",children:[Object(f.jsx)(o.r,{children:"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"}),Object(f.jsx)(H,{setActiveView:r})]})})]})};var ne=function(){return Object(f.jsx)(te,{})},re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,452)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},ce=n(83),ae=n.n(ce);ae.a.send("VKWebAppInit"),ae.a.subscribe((function(e){return console.log(e)})),s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(ne,{})}),document.getElementById("root")),re()}},[[443,1,2]]]);
//# sourceMappingURL=main.56d89d3c.chunk.js.map